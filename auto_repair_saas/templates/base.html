<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Auto Repair Shop Manager</title>
    <!-- Font Awesome -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
            rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
    />
    <!-- MDB -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.0.0/mdb.min.css"
            rel="stylesheet"
    />

    <!-- chartjs -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.css"
          integrity="sha512-/zs32ZEJh+/EO2N1b0PEdoA10JkdC3zJ8L5FTiQu82LR9S/rOQNfQN7U59U9BC12swNeRAz3HSzIL2vpp4fv3w=="
          crossorigin="anonymous"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"
            integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw=="
            crossorigin="anonymous"></script>

    <!-- Izitoast -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.min.css"
          integrity="sha512-O03ntXoVqaGUTAeAmvQ2YSzkCvclZEcPQu1eqloPaHfJ5RuNGiS4l+3duaidD801P50J28EHyonCV06CUlTSag=="
          crossorigin="anonymous"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js"
            integrity="sha512-Zq9o+E00xhhR/7vJ49mxFNJ0KQw1E1TMWkPTxrWcnpfEFDEXgUiwJHIKit93EW/XxE31HSI5GEOW06G6BF1AtA=="
            crossorigin="anonymous">
    </script>

    <style>
        {#  remove arrow from number input fields  #}

        /* Chrome, Safari, Edge, Opera */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Firefox */
        input[type=number] {
            -moz-appearance: textfield;
        }

        svg.center {
            display: block;
            margin: 0 auto;
        }

        .sidebar {
            height: 100vh;
            width: 200px;
            position: fixed;
            top: 0;
            left: 0;
            padding-top: 40px;
        }

        footer {
            position: absolute;
            bottom: 0;
            width: 100%;
        }

        .nav-menu-button {
            background-color: #fff;
            text-align: left;
        }

        button.active {
            background-color: #0c56d0 !important;
        }
    </style>
</head>
<body>
{% if user.is_authenticated %}
    <style>
        .main {
            height: 100vh;
            margin-left: 200px;
            width: calc(100% - 200px);
            background-color: #f5f8fb;
        }
    </style>
    <nav class="sidebar shadow-2">
        <div class="container-fluid">
            <svg width='177' height='100' viewBox='0 0 177 100' fill='none' xmlns='http://www.w3.org/2000/svg'>
                <path d='M44.5 32C42.2019 32 39.9262 32.4527 37.803 33.3321C35.6798 34.2116 33.7507 35.5006 32.1256 37.1256C30.5006 38.7507 29.2116 40.6798 28.3321 42.803C27.4527 44.9262 27 47.2019 27 49.5C27 51.7981 27.4527 54.0738 28.3321 56.197C29.2116 58.3202 30.5006 60.2493 32.1256 61.8744C33.7507 63.4994 35.6798 64.7884 37.803 65.6679C39.9262 66.5473 42.2019 67 44.5 67V58.25C43.3509 58.25 42.2131 58.0237 41.1515 57.5839C40.0899 57.1442 39.1253 56.4997 38.3128 55.6872C37.5003 54.8747 36.8558 53.9101 36.4161 52.8485C35.9763 51.7869 35.75 50.6491 35.75 49.5C35.75 48.3509 35.9763 47.2131 36.4161 46.1515C36.8558 45.0899 37.5003 44.1253 38.3128 43.3128C39.1253 42.5003 40.0899 41.8558 41.1515 41.4161C42.2131 40.9763 43.3509 40.75 44.5 40.75V32Z'
                      fill='#0F52FF'/>
                <path d='M44.5003 55.3333C47.722 55.3333 50.3337 52.7216 50.3337 49.5C50.3337 46.2783 47.722 43.6666 44.5003 43.6666C41.2787 43.6666 38.667 46.2783 38.667 49.5C38.667 52.7216 41.2787 55.3333 44.5003 55.3333Z'
                      fill='#0F52FF'/>
                <path d='M27 49.5C27 51.7981 27.4527 54.0738 28.3321 56.197C29.2116 58.3202 30.5006 60.2493 32.1256 61.8744C33.7507 63.4994 35.6798 64.7884 37.803 65.6679C39.9262 66.5473 42.2019 67 44.5 67C46.7981 67 49.0738 66.5473 51.197 65.6679C53.3202 64.7884 55.2493 63.4994 56.8744 61.8744C58.4994 60.2493 59.7884 58.3202 60.6679 56.197C61.5473 54.0738 62 51.7981 62 49.5H53.25C53.25 50.6491 53.0237 51.7869 52.5839 52.8485C52.1442 53.9101 51.4997 54.8747 50.6872 55.6872C49.8747 56.4997 48.9101 57.1442 47.8485 57.5839C46.7869 58.0237 45.6491 58.25 44.5 58.25C43.3509 58.25 42.2131 58.0237 41.1515 57.5839C40.0899 57.1442 39.1253 56.4997 38.3128 55.6872C37.5003 54.8747 36.8558 53.9101 36.4161 52.8485C35.9763 51.7869 35.75 50.6491 35.75 49.5H27Z'
                      fill='#5BD0F4'/>
                <path d='M50.3332 49.5C50.3332 47.9529 49.7186 46.4692 48.6247 45.3752C47.5307 44.2812 46.047 43.6666 44.4999 43.6666C42.9528 43.6666 41.4691 44.2812 40.3751 45.3752C39.2811 46.4692 38.6665 47.9529 38.6665 49.5H44.4999H50.3332Z'
                      fill='#5BD0F4'/>
                <path d='M71.1398 42.925H68.9663V55H71.1398V42.925Z' fill='#0F52FF'/>
                <path d='M72.5591 50.722C72.5591 53.5165 74.4911 55.2415 77.0441 55.2415C79.5971 55.2415 81.5291 53.5165 81.5291 50.722C81.5291 47.9275 79.5971 46.2025 77.0441 46.2025C74.4911 46.2025 72.5591 47.9275 72.5591 50.722ZM74.7326 50.722C74.7326 49.066 75.6986 48.1 77.0441 48.1C78.3896 48.1 79.3556 49.066 79.3556 50.722C79.3556 52.378 78.3896 53.344 77.0441 53.344C75.6986 53.344 74.7326 52.378 74.7326 50.722Z'
                      fill='#0F52FF'/>
                <path d='M89.2962 46.444V47.5997H89.1237C88.6062 46.858 87.7782 46.2025 86.2947 46.2025C84.2592 46.2025 82.4307 47.9275 82.4307 50.584C82.4307 53.2405 84.2592 54.9655 86.2947 54.9655C87.7782 54.9655 88.6062 54.2927 89.0892 53.62H89.2617V54.448C89.2617 56.104 88.2957 56.863 86.8812 56.863C85.4667 56.863 84.7422 56.104 84.4489 55.1207L82.4997 55.966C82.9482 57.2597 84.2592 58.6915 86.9157 58.6915C89.6412 58.6915 91.4352 57.2597 91.4352 54.4997V46.444H89.2962ZM86.9502 53.1025C85.6047 53.1025 84.6042 52.1365 84.6042 50.584C84.6042 49.0315 85.6047 48.0655 86.9502 48.0655C88.2957 48.0655 89.2962 49.0315 89.2962 50.584C89.2962 52.1365 88.2957 53.1025 86.9502 53.1025Z'
                      fill='#0F52FF'/>
                <path d='M92.8413 50.722C92.8413 53.5165 94.7733 55.2415 97.3263 55.2415C99.8793 55.2415 101.811 53.5165 101.811 50.722C101.811 47.9275 99.8793 46.2025 97.3263 46.2025C94.7733 46.2025 92.8413 47.9275 92.8413 50.722ZM95.0148 50.722C95.0148 49.066 95.9808 48.1 97.3263 48.1C98.6718 48.1 99.6378 49.066 99.6378 50.722C99.6378 52.378 98.6718 53.344 97.3263 53.344C95.9808 53.344 95.0148 52.378 95.0148 50.722Z'
                      fill='#0F52FF'/>
                <path d='M103.517 43.9601C103.517 44.8399 104.19 45.4436 105.053 45.4436C105.915 45.4436 106.588 44.8399 106.588 43.9601C106.588 43.0804 105.915 42.4766 105.053 42.4766C104.19 42.4766 103.517 43.0804 103.517 43.9601ZM106.139 46.4441H103.966V55.0001H106.139V46.4441Z'
                      fill='#5BD0F4'/>
                <path d='M108.076 58.45H110.25V53.896H110.422C110.905 54.586 111.733 55.2415 113.217 55.2415C115.252 55.2415 117.081 53.5165 117.081 50.722C117.081 47.9275 115.252 46.2025 113.217 46.2025C111.733 46.2025 110.905 46.858 110.388 47.5998H110.215V46.444H108.076V58.45ZM112.561 53.3785C111.216 53.3785 110.215 52.4125 110.215 50.722C110.215 49.0315 111.216 48.0655 112.561 48.0655C113.907 48.0655 114.907 49.0315 114.907 50.722C114.907 52.4125 113.907 53.3785 112.561 53.3785Z'
                      fill='#5BD0F4'/>
                <path d='M118.349 48.8418C118.349 50.5323 119.763 51.1533 121.557 51.4983L122.006 51.5845C123.075 51.7915 123.558 52.0503 123.558 52.6023C123.558 53.1543 123.075 53.5855 122.075 53.5855C121.074 53.5855 120.264 53.1715 120.039 51.9295L118.038 52.447C118.332 54.241 119.832 55.2415 122.075 55.2415C124.248 55.2415 125.663 54.2238 125.663 52.4298C125.663 50.6357 124.214 50.1528 122.282 49.7733L121.833 49.687C120.936 49.5145 120.453 49.273 120.453 48.7038C120.453 48.1863 120.902 47.8585 121.73 47.8585C122.558 47.8585 123.144 48.2035 123.351 49.135L125.318 48.5313C124.904 47.1513 123.645 46.2025 121.73 46.2025C119.694 46.2025 118.349 47.1513 118.349 48.8418Z'
                      fill='#5BD0F4'/>
                <path d='M135.426 55V46.444H133.253V50.86C133.253 52.447 132.477 53.3785 131.148 53.3785C129.975 53.3785 129.32 52.7403 129.32 51.4465V46.444H127.146V51.55C127.146 53.6718 128.475 55.138 130.476 55.138C132.045 55.138 132.77 54.448 133.115 53.7235H133.287V55H135.426Z'
                      fill='#5BD0F4'/>
                <path d='M137.354 46.444V55H139.528V49.894C139.528 48.721 140.08 48.0655 141.08 48.0655C141.943 48.0655 142.46 48.5485 142.46 49.48V55H144.634V49.894C144.634 48.721 145.186 48.0655 146.186 48.0655C147.049 48.0655 147.566 48.5485 147.566 49.48V55H149.74V49.3765C149.74 47.3065 148.463 46.306 146.876 46.306C145.479 46.306 144.841 46.927 144.427 47.6515H144.254C143.857 46.8408 143.15 46.306 141.908 46.306C140.666 46.306 139.993 46.858 139.666 47.5135H139.493V46.444H137.354Z'
                      fill='#5BD0F4'/>
            </svg>
        </div>
        <div class="container-fluid">
            <div class="d-grid" id="navbarMain">
                <a href="{% url 'dashboard' %}"
                   class="btn btn-light shadow-0 text-muted btn-lg nav-menu-button"
                   role="button"
                ><i class="fas fa-tachometer-alt me-3"></i>dashboard</a
                >
                <a href="{% url 'jobs' %}"
                   class="btn btn-light shadow-0 text-muted btn-lg nav-menu-button"
                   role="button">
                    <i class="fas fa-briefcase me-3"></i>Jobs
                </a>
                <a href="{% url 'contacts' %}" class="btn btn-light shadow-0 text-muted btn-lg nav-menu-button"
                   role="button"
                ><i class="fas fa-users me-3"></i>Contacts
                </a>
                <a href="{% url 'vehicles' %}" class="btn btn-light shadow-0 text-muted btn-lg nav-menu-button"
                   role="button"
                ><i class="fas fa-car me-3"></i>Vehicles
                </a>
                <a href="{% url 'staff' %}" class="btn btn-light shadow-0 text-muted btn-lg nav-menu-button"
                   role="button"
                ><i class="fas fa-user-friends me-3"></i>Staff
                </a>
                <a href="/" class="btn btn-light shadow-0 text-muted btn-lg nav-menu-button"
                   role="button"
                ><i class="fas fa-user-alt me-3"></i>Profile
                </a>
                <a href="{% url 'logout' %}" class="btn btn-light shadow-0 text-danger btn-lg nav-menu-button"
                   role="button"
                ><i class="fas fa-sign-out-alt me-3"></i>logout
                </a>
                <button class="btn btn-info mt-5" onclick="seedData()"
                        data-mdb-toggle="tooltip"
                        data-mdb-placement="top"
                        title="Generate demo data">Seed data
                </button>
            </div>
        </div>
    </nav>
{% endif %}
<div class="container main p-5">
    {% if messages %}
        {% for message in messages %}
            {% if message.tags == 'error' %}
                <script>
                    iziToast.error({
                        title: 'Error',
                        message: '{{ message }}',
                        maxWidth: 310
                    })
                </script>
            {% elif message.tags == 'success' %}
                <script>
                    iziToast.success({
                        title: 'Success',
                        message: '{{ message }}',
                        maxWidth: 310
                    })
                </script>
            {% endif %}
        {% endfor %}
    {% endif %}
    {% block content %}{% endblock %}
</div>
<!-- MDB -->
<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.0.0/mdb.min.js"
></script>

<!-- seed data -->
<script>
    const seedData = () => {
        fetch(`/seed`)
            .then(response => {
                if (response.status === 200) {
                    iziToast.success({
                        title: 'Success',
                        message: 'Data seeded.',
                        maxWidth: 310
                    })
                }
            })
            .then(_ => {
            })
            .catch((error) => {
                iziToast.error({
                    title: 'Error',
                    message: error,
                    maxWidth: 310
                })
            });
    }
</script>
</body>
</html>